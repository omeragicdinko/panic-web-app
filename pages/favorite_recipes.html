<!DOCTYPE html>
<html>
<style>
.navigation_list {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: #5d2025;
}
.navigation {
  float: left;
}
.navigation a {
  display: block;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}
.navigation_list {
	position:sticky;
	top:0;
    z-index: 300;
}
.navigation a:hover {
  background-color: gray;
  text-decoration: none;
}
body {
    background-color: rgb(251, 251, 251);
    background-image: url(../images/background.svg);
    background-repeat: repeat;
    background-position: center top;
}
.recipe-links {
    color: black;
}
.recipe-links:hover {
    cursor: pointer;
    text-decoration: none;
} 
.list-item {
    display: flex;
    height: 175px;
    width: 95%;
    padding: 10px;
    border-radius: 5px;
    margin: 20px 0;
    border: 3px solid #5d2025;
    background-color: #f9f9f9;
}
.hidden {
    display: none;
}
.img-container {
    display: inherit;
    height: auto;
    width: 150px;
    height: 150px;
}
.text-container {
    margin-left: 10px;
    display: flex;
    padding-right: 6px;
    width: 100%;
}
.inner-text-container {
    padding-left: 20px;
    width: 100%;
}
.title-text {
    font-size: 30px;
    font-weight: bold;
    margin-bottom: 6px;
}
.body-text {
    display: inherit;
    max-height:65%;
    overflow: hidden;
}
.favorite-button {
    float:right;
}
.favorite-button:hover {
    cursor: pointer;
    text-decoration: none;
}
.img-displayed {
    display: inherit;
    margin: 4px;
    border: 3px solid #5d2025;
    border-radius: 5px;
}
.search-recipes button:hover {background-color: #3e8e41}
.search-recipes button:active {
  background-color: #3e8e41;
  box-shadow: 0 5px #666;
  transform: translateY(4px);
}
.search-recipes {
  width: 80%;
  padding: 5px;
  margin: auto;
  margin-top: 20px;
  margin-bottom: 10px;
}
.text-center {
  text-align: center;
  color: #5d2025;
  font-weight: bold;
}
.recipe-list {
    align-items: center;
}
img:hover {
  cursor: pointer;
}
</style>

<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/1.3.1/css/toastr.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css"/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"/>
<title>Recipes</title>
</head>

<body>
<ul class="navigation_list">
    <li class="navigation"><a href="recipes.html">Recipes</a></li>
    <li class="navigation"><a href="my_recipes.html">My Recipes</a></li>
    <li class="navigation"><a href="cookbooks.html">Cookbooks</a></li>
    <li class="navigation"><a href="favorite_recipes.html">Favorite Recipes</a></li>
    <li class="navigation"><a href="leaderboard.html">Leaderboard</a></li>
    <li class="navigation"><a href="profile.html">Profile</a></li>
    <li class="navigation"><a href="about.html">About</a></li>
    <li class="navigation" style="float:right;"><a href="login.html">Log out</a></li>
</ul> 
<h1 class="text-center">Favorite recipes</h1>
<div class="search-recipes">
    <input type="text" name="recipes-search" id="recipes-search" placeholder="&#128269; Search recipes" class="form-control"/>
</div>

<div class="container">
  <ul id="list-of-recipes" class="recipe-list" style="padding-left: 55px;">
    <div class="row">
      <li class="list-item" id="favorite-recipe-5">
        <div class="img-container">
            <img onclick="openRecipeInfo(5)" src="../images/recipe_5.jpg" alt="Avatar" class="img-displayed">
        </div>
        <div class="text-container">
          <div class="row inner-text-container">
              <div class="title-text"><a onclick="openRecipeInfo(5)" class="recipe-links">Klupskies (Polish Burgers)</a><a id="filled-star-5" class="favorite-button empty-star" onclick="confirm_modal_show(5)">&#9733;</a></div>
              <div class="body-text">This recipe is a family favorite that was passed down over the generations. Grandma and Pap just ate them plain, with a fork (sometimes dipped in ketchup), but our family likes to top these burgers with cheese and serve on a hamburger bun in a the traditional way. I have also seen these referred to as Kotlety Mielone. These can also be cooked on the grill.</div>
          </div>
        </div>
      </li>

      <li class="list-item" id="favorite-recipe-4">
        <div class="img-container">
            <img onclick="openRecipeInfo(4)" src="../images/recipe_4.jpg" alt="Avatar" class="img-displayed">
        </div>
        <div class="text-container">
            <div class="row inner-text-container">
                <div class="title-text"><a onclick="openRecipeInfo(4)" class="recipe-links">Grandma's Famous Salmon Cakes</a><a id="filled-star-4" class="favorite-button empty-star" onclick="confirm_modal_show(4)">&#9733;</a></div>
                <div class="body-text">This is a recipe for my Grandmother's famous salmon cakes. It is a family recipe that has been passed down through generations. Serve with macaroni and cheese or any other type of side dish.</div>
            </div>
        </div>
      </li>

      <li class="list-item" id="favorite-recipe-1">
        <div class="img-container">
            <img onclick="openRecipeInfo(1)" src="../images/recipe_1.jpg" alt="Avatar" class="img-displayed">
        </div>
        <div class="text-container">
            <div class="row inner-text-container">
                <div class="title-text"><a onclick="openRecipeInfo(1)" class="recipe-links">Skillet Chicken Bulgogi</a><a id="filled-star-1" class="favorite-button empty-star" onclick="confirm_modal_show(1)">&#9733;</a></div>
                <div class="body-text">This is a quick and easy, but very tasty meal. You can substitute the chicken with beef or pork for variety. My wife and I absolutely love this recipe, and it only takes 30 minutes with very few dirty dishes! Serve over rice.</div>
            </div>
        </div>
      </li>

      <li class="list-item" id="favorite-recipe-2">
        <div class="img-container">
            <img onclick="openRecipeInfo(2)" src="../images/recipe_2.jpg" alt="Avatar" class="img-displayed">
        </div>
        <div class="text-container">
            <div class="row inner-text-container">
                <div class="title-text"><a onclick="openRecipeInfo(2)" class="recipe-links">Andie's Quick 'n Easy Sneaky Sloppy Joes</a><a id="filled-star-2" class="favorite-button empty-star" onclick="confirm_modal_show(2)">&#9733;</a></div>
                <div class="body-text">I cobbled this recipe together from a myriad of online recipes. I couldn't find a more veggie-friendly option, and had BBQ sauce in the fridge. This is a kiddo and grandkid-friendly recipe you can whip up for an in-a-pinch meal... or add it to your regular menu rotation and get those veggies in without a struggle!</div>
            </div>
        </div>
      </li>

        <li class="list-item" id="favorite-recipe-3">
            <div class="img-container">
                <img onclick="openRecipeInfo(3)" src="../images/recipe_3.jpg" alt="Avatar" class="img-displayed">
            </div>
            <div class="text-container">
                <div class="row inner-text-container">
                    <div class="title-text"><a onclick="openRecipeInfo(3)" class="recipe-links">Omelet in a Mug</a><a id="filled-star-3" class="favorite-button empty-star" onclick="confirm_modal_show(3)">&#9733;</a></div>
                    <div class="body-text">A quick and easy breakfast when you don't have time to cook or do dishes afterwards.</div>
                </div>
            </div>
        </li>
      </div>  
  </ul>  
</div>

<div class="modal fade" id="confirm-modal" tabindex="-1" role="dialog" aria-labelledby="confirmModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <form id="confirm-form">
        <div class="modal-header" style="text-align: center;">
          <h4 class="modal-title" id="confirm-modal-label" style="display:inline-block;">Are you sure?</h4>
        </div>
        <div class="modal-footer" style="border: none;">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
          <button type="submit" class="btn btn-danger">Remove from favorites</button>
        </div>
      </form>
    </div>
  </div>
</div>
</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.1/dist/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/1.3.1/js/toastr.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script>

function confirm_modal_show(i) {
  $("#confirm-modal").modal('show');
  localStorage.setItem('remove_favorite_recipe_id', i);
}

$('#confirm-form').validate({
  submitHandler: function(form) {
    toggleStar();
    $("#confirm-modal").modal('hide');
}
});

function toggleStar() {
  i = localStorage.getItem('remove_favorite_recipe_id');
  if (i == 1) {
      document.getElementById("favorite-recipe-1").className = "hidden";
      toastr.error('Recipe removed from favorites');
  } else if (i == 2) {
      document.getElementById("favorite-recipe-2").className = "hidden";
      toastr.error('Recipe removed from favorites');
  } else if (i == 3) {
      document.getElementById("favorite-recipe-3").className = "hidden";
      toastr.error('Recipe removed from favorites');
  } else if (i == 4) {
      document.getElementById("favorite-recipe-4").className = "hidden";
      toastr.error('Recipe removed from favorites');
  } else if (i == 5) {
      document.getElementById("favorite-recipe-5").className = "hidden";
      toastr.error('Recipe removed from favorites');
  }
    
}

function openRecipeInfo(i) {
  if (i == 1) {
    localStorage.setItem('recipe_image_url', '../images/recipe_1.jpg');
    localStorage.setItem('recipe_name', 'Skillet Chicken Bulgogi');
    localStorage.setItem('recipe_ingredients', '1/4 cup chopped onion \n5 tablespoons soy sauce \n2.5 tablespoons brown sugar \n2 tablespoons minced garlic \n2 tablespoons sesame oil \n1 tablespoon sesame seeds \n1/2 teaspoon cayenne \nsalt and ground black pepper to taste \n1 pound skinless boneless chicken breasts cut into thin strips \n');
    localStorage.setItem('recipe_cooking_process', 'Step 1: \nWhisk onion, soy sauce, brown sugar, garlic, sesame oil, sesame seeds, cayenne pepper, salt, and black pepper together in a bowl until marinade is smooth.\nStep 2: \nCook and stir chicken and marinade together in a large skillet over medium-high heat until chicken is cooked through, about 15 minutes.');
    localStorage.setItem('cooking_timer', 15);
    window.location = 'recipe_info.html';
  } else if (i == 2) {
    localStorage.setItem('recipe_image_url', '../images/recipe_2.jpg');
    localStorage.setItem('recipe_name', "Andie's Quick 'n Easy Sneaky Sloppy Joes");
    localStorage.setItem('recipe_ingredients', '1 cup lentils \n2 onions diced \n1 pound lean ground beef \n1 large green bell pepper diced \n3/4 cup ketchup \n3/4 cup barbeque sauce \n1 tablespoon Worcestershire sauce \n1 tablespoon minced garlic');
    localStorage.setItem('recipe_cooking_process', 'Step 1: \nPlace lentils in a small pot and cover with 2 cups hot water. Bring to a boil; reduce heat and simmer until lentils are tender, about 15 minutes. Drain.\nStep 2: \nHeat a large nonstick skillet over medium heat. Add onions; cook and stir until softened, 3 to 5 minutes. Add ground beef and green bell pepper; cook and stir until browned, about 8 minutes. \nStep 3: \nStir drained lentils, ketchup, barbeque sauce, Worcestershire sauce, and minced garlic into the skillet. Reduce heat to low and simmer until flavors combine and mixture thickens to desired consistency, 15 to 20 minutes.');
    localStorage.setItem('cooking_timer', 46);
    window.location = 'recipe_info.html';
  } else if (i == 3) {
    localStorage.setItem('recipe_image_url', '../images/recipe_3.jpg');
    localStorage.setItem('recipe_name', 'Omelet in a Mug');
    localStorage.setItem('recipe_ingredients', '1 large egg \n2 egg whites \n2 tablespoons shredded Cheddar cheese \n2 tablespoons diced fully cooked ham \n1 tablespoon diced green bell pepper \nsalt and ground black pepper to taste \ncooking spray');
    localStorage.setItem('recipe_cooking_process', 'Step 1: \nCombine egg, egg whites, Cheddar cheese, ham, bell pepper, salt, and ground pepper in a microwave-safe mug coated with non-stick spray.\nStep 2: \nMicrowave on high for 1 minute; stir. Return to microwave and cook until eggs are completely set, 1 to 1 1/2 minutes longer.');
    localStorage.setItem('cooking_timer', 2);
    window.location = 'recipe_info.html';
  } else if (i == 4) {
    localStorage.setItem('recipe_image_url', '../images/recipe_4.jpg');
    localStorage.setItem('recipe_name', "Grandma's Famous Salmon Cakes");
    localStorage.setItem('recipe_ingredients', '1 (14.75 ounce) can salmon drained and flaked \n2 eggs, beaten \n1 small onion, diced \n1 teaspoon ground black pepper \n3 tablespoons vegetable oil');
    localStorage.setItem('recipe_cooking_process', 'Step 1: \nPick through the salmon and remove any bones. In a mixing bowl, beat the eggs and add the diced onion, salmon and pepper. Mix thoroughly.\nStep 2: \nShape into 2 ounce patties; about 7 or 8 patties. In a large skillet over medium heat, heat the oil. Fry each patty for 5 minutes on each side or until crispy and golden brown.');
    localStorage.setItem('cooking_timer', 20);
    window.location = 'recipe_info.html';
  } else if (i == 5) {
    localStorage.setItem('recipe_image_url', '../images/recipe_5.jpg');
    localStorage.setItem('recipe_name', 'Klupskies (Polish Burgers)');
    localStorage.setItem('recipe_ingredients', '1 pound ground beef \n1 small onion, diced \n1/2 green pepper, diced \n1 large green bell pepper diced \n1 egg \n2 tablespoons ketchup \n1/4 teaspoon sea salt \n2 slices white bread, torn into small pieces \n1 serving cooking spray with olive oil');
    localStorage.setItem('recipe_cooking_process', 'Step 1: \nMix ground beef, onion, green pepper, egg, ketchup, and sea salt together in a bowl; mix in the white bread pieces until evenly distributed. Form the mixture into 4 patties.\nStep 2: \nSpray a large skillet with olive oil cooking spray and set over medium heat. Cook the burgers until well-browned on the bottoms, about 10 minutes; flip the burgers and cook until the meat is no longer pink and the juices run clear, 8 to 10 more minutes.');
    localStorage.setItem('cooking_timer', 20);
    window.location = 'recipe_info.html';
  }
}

$(document).ready(function() {
  $("#recipes-search").keyup(function() {
    search_table($(this).val());
  });

  function search_table(value) {
    $('#list-of-recipes li').each(function() {
      var found = 'false';
      $(this).each(function() {
        if ($(this).text().toLowerCase().indexOf(value.toLowerCase()) >= 0) {
          found = 'true';
        }
      });
        if (found == 'true') {
          $(this).show();
        } else {
          $(this).hide();
      }
    });
  }
});

</script>
</html>